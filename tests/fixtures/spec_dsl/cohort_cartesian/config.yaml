axes:
  combo_id:
    levels: [combo-1]
    catalog_lookup: {catalog: combos}
  draft_template:
    levels: [draft-A]
    catalog_lookup: {catalog: draft_templates}
  draft_llm:
    levels: [draft-llm]
    catalog_lookup: {catalog: generation_llms}
  essay_template:
    levels: [essay-X, essay-Y]
    catalog_lookup: {catalog: essay_templates}
  essay_llm:
    levels: [essay-llm]
    catalog_lookup: {catalog: essay_llms}
  evaluation_template:
    levels: [eval-1]
    catalog_lookup: {catalog: evaluation_templates}
  evaluation_llm:
    levels: [eval-llm]
    catalog_lookup: {catalog: evaluation_llms}
rules:
  - tuple:
      name: essay_bundle
      axes: [essay_template, essay_llm]
      items:
        - [essay-X, essay-llm]
        - [essay-Y, essay-llm]
  - pair:
      left: evaluation_template
      right: evaluation_llm
      name: evaluation_bundle
      allowed:
        - [eval-1, eval-llm]
replicates:
  draft_template:
    count: 2
    column: draft_replicate
  essay_template:
    count: 2
    column: essay_replicate
output:
  field_order:
    - combo_id
    - draft_template
    - draft_llm
    - essay_template
    - essay_llm
    - evaluation_template
    - evaluation_llm
    - draft_replicate
    - essay_replicate
